Session snapshot - 2026-01-15 22:37:19 -0300

Context
- Added a canonical Meta WhatsApp sender with number normalization and shared payload for demo + workflow.
- Centralized Graph API POST handling with error logging and MetaWhatsAppSendError propagation.
- Workflow outbound emits failed messaging.outbound SSE with error details; demo endpoint returns error payloads on failure.

Key files touched/added
- backend/modules/messaging/providers/meta/whatsapp/service.py
- backend/modules/messaging/providers/meta/whatsapp/client.py
- backend/modules/messaging/providers/meta/whatsapp/__init__.py
- backend/routes/messaging.py
- backend/modules/vertice360_workflow_demo/services.py
- backend/tests/conftest.py

Notes
- normalize_wa_to trims, strips +, removes spaces/hyphens, and validates digits.
- send_text_message builds the WhatsApp payload and reuses post_message for the HTTP call.
- Demo endpoint keeps its response shape while delegating to the canonical sender.

Next steps ideas
- Exercise the demo outbounds and verify the UI still receives messaging.outbound.
- Send a real inbound WhatsApp and confirm the workflow auto-reply avoids 400s.
- If it fails, check logs for the Meta error JSON and the failed outbound SSE.

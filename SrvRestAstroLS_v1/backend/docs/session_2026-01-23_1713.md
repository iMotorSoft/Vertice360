Session snapshot - 2026-01-23 17:13:37 -0300

Context
- Added per-ticket commercial slot memory (zona, tipologia, presupuesto, moneda, fecha_mudanza) and deterministic extraction on inbound messages.
- Built contextual AI workflow inputs and a guardrail to avoid re-asking already known slots in WhatsApp replies.
- Expanded budget parsing to handle k/mil/millones with USD/ARS tokens.
- Added WhatsApp flow test to verify memory persistence and missing-slot handling.

Key files touched/added
- modules/vertice360_workflow_demo/services.py
- modules/vertice360_workflow_demo/store.py
- tests/test_whatsapp_commercial_memory_flow.py
- tests/test_commercial_slot_memory_budget_parse.py
- docs/session_2026-01-23_1713.md

Notes
- Context injection appends a short "Contexto:" block with known slots to the AI workflow input.
- Guardrail rewrites outbound text if it asks for known slots, preferring the next missing slot question.

Next steps ideas
- Run `pytest tests/test_whatsapp_commercial_memory_flow.py`.
- Run `pytest tests/test_commercial_slot_memory_budget_parse.py`.
